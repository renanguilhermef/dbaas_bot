[{"id":"local_kb_search","user_id":"412bd80c-9469-44f7-88d5-8aa757bb4788","name":"Local_KB_Search","meta":{"description":"Access internal Oracle knowledge base and error codes.","manifest":{}},"access_control":{},"updated_at":1770454083,"created_at":1770454083,"user":null,"write_access":true,"content":"import requests\nimport json\n\n\nclass Tools:\n    def __init__(self):\n        # We use 'fastapi' because that is the service name in docker-compose\n        self.url = \"http://fastapi:8000/ask\"\n\n    def search_local_files(self, question: str) -> str:\n        \"\"\"\n        CRITICAL: ALWAYS use this tool if the user asks about:\n        - Oracle errors (ORA-600, ORA-700, etc.)\n        - Database configurations\n        - Internal company documents\n\n        Do not guess. Retrieve the info from this tool first.\n\n        :param question: The user's query or error code.\n        \"\"\"\n        payload = {\"question\": question}\n        try:\n            # Connect to the FastAPI container\n            r = requests.post(self.url, json=payload, timeout=10)\n            r.raise_for_status()\n            return json.dumps(r.json())\n        except Exception as e:\n            return f\"Error connecting to FastAPI: {e}\"\n","specs":[{"name":"search_local_files","description":"CRITICAL: ALWAYS use this tool if the user asks about:\n- Oracle errors (ORA-600, ORA-700, etc.)\n- Database configurations\n- Internal company documents\n\nDo not guess. Retrieve the info from this tool first.","parameters":{"properties":{"question":{"description":"The user's query or error code.","type":"string"}},"required":["question"],"type":"object"}}]}]